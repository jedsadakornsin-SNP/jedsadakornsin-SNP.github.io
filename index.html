<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ - Tus Kai Sod</title>

<style>
body {
    font-family: "Segoe UI", sans-serif;
    background: #f4f6fc;
    margin: 0;
    padding: 0;
}
.container {
    max-width: 480px;
    margin: 25px auto;
    background: white;
    padding: 25px;
    border-radius: 18px;
    box-shadow: 0 8px 18px rgba(0,0,0,0.08);
}
h2 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 25px;
}
label {
    font-weight: 600;
    margin-top: 10px;
    display: block;
}
input, select {
    width: 100%;
    padding: 14px;
    margin: 8px 0 18px;
    border-radius: 10px;
    border: 1px solid #ccc;
    background: #fafafa;
    font-size: 16px;
}
button {
    width: 100%;
    padding: 16px;
    font-size: 18px;
    border-radius: 12px;
    border: none;
    background: #4e73df;
    color: white;
    font-weight: 700;
    cursor: pointer;
}
button:hover {
    background: #3d5fc9;
}
.result-card {
    background: #ffffff;
    padding: 18px;
    margin-top: 22px;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
}
.success { color: #27ae60; font-weight: bold; }
.danger { color: #e74c3c; font-weight: bold; }
</style>
</head>

<body>
<div class="container">
    <h2>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ Tus Kai Sod</h2>

    <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏ó)</label>
    <input id="cost_total" type="number">

    <label>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏à‡∏£‡∏¥‡∏á (‡∏Å‡∏Å.)</label>
    <input id="weight" type="number">

    <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏•‡∏≤‡∏î (‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.)</label>
    <input id="market_price" type="number">

    <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á 1</label>
    <input id="c1" type="number">

    <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á 2</label>
    <input id="c2" type="number">

    <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á 3</label>
    <input id="c3" type="number">

    <label>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏≠‡∏∑‡πà‡∏ô (‡∏ö‡∏≤‡∏ó)</label>
    <input id="extra_cost" type="number">

    <label>‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á (‡∏ö‡∏≤‡∏ó)</label>
    <input id="labor_cost" type="number">

    <label>Loss (%)</label>
    <input id="loss" type="number">

    <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏î‡∏µ‡∏°‡∏≤‡∏ô‡∏î‡πå</label>
    <select id="demand">
        <option value="1">‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å</option>
        <option value="2">‡∏ï‡πà‡∏≥</option>
        <option value="3">‡∏õ‡∏Å‡∏ï‡∏¥</option>
        <option value="4">‡∏™‡∏π‡∏á</option>
        <option value="5">‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å</option>
    </select>

    <button onclick="calculate()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤</button>

    <div id="result"></div>
</div>

<script>
function calculate() {

    let cost_total = Number(document.getElementById("cost_total").value);
    let weight = Number(document.getElementById("weight").value);
    let market_price = Number(document.getElementById("market_price").value);
    let c1 = Number(document.getElementById("c1").value);
    let c2 = Number(document.getElementById("c2").value);
    let c3 = Number(document.getElementById("c3").value);
    let extra = Number(document.getElementById("extra_cost").value);
    let labor = Number(document.getElementById("labor_cost").value);
    let loss = Number(document.getElementById("loss").value);
    let demand = Number(document.getElementById("demand").value);

    if (weight === 0) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏à‡∏£‡∏¥‡∏á");
        return;
    }

    let base_cost = cost_total / weight;
    let loss_cost = base_cost * (loss / 100);
    let adjusted_cost = base_cost + (extra/weight) + (labor/weight) + loss_cost;

    let comp_avg = (c1 + c2 + c3) / 3;

    let demand_price = market_price;
    if (demand === 1) demand_price = adjusted_cost * 1.03;
    if (demand === 2) demand_price = market_price * 0.97;
    if (demand === 3) demand_price = market_price;
    if (demand === 4) demand_price = market_price * 1.08;
    if (demand === 5) demand_price = market_price * 1.15;

    if (demand_price < adjusted_cost) {
        demand_price = adjusted_cost;
    }

    let ai_price = adjusted_cost * 0.3 + market_price * 0.4 + comp_avg * 0.3;

    let profit_d = demand_price - adjusted_cost;
    let profit_ai = ai_price - adjusted_cost;

    document.getElementById("result").innerHTML = `
        <div class="result-card">
            <h3>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h3>
            <p><b>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ï‡πà‡∏≠‡∏Å‡∏Å.:</b> ${base_cost.toFixed(2)}</p>
            <p><b>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö:</b> ${adjusted_cost.toFixed(2)}</p>
            <p><b>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á:</b> ${comp_avg.toFixed(2)}</p>
            <p><b>‡∏£‡∏≤‡∏Ñ‡∏≤ AI:</b> ${ai_price.toFixed(2)}</p>
            <p><b>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡∏î‡∏µ‡∏°‡∏≤‡∏ô‡∏î‡πå:</b> ${demand_price.toFixed(2)}</p>
            <p><b>‡∏Å‡∏≥‡πÑ‡∏£‡∏ï‡∏≤‡∏°‡∏î‡∏µ‡∏°‡∏≤‡∏ô‡∏î‡πå:</b> <span class="${profit_d>=0?'success':'danger'}">${profit_d.toFixed(2)}</span></p>
            <p><b>‡∏Å‡∏≥‡πÑ‡∏£‡∏ï‡∏≤‡∏° AI:</b> <span class="${profit_ai>=0?'success':'danger'}">${profit_ai.toFixed(2)}</span></p>
            <hr>
            <h3>üí° ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: <span style="color:#4e73df">${demand_price.toFixed(2)}</span> ‡∏ö‡∏≤‡∏ó</h3>
        </div>
    `;
}
</script>

</body>
</html>
